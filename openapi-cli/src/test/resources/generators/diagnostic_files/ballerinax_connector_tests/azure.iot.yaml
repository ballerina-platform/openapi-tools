openapi: 3.0.1
info:
  x-ballerina-display:
    label: Azure IoT Hub
    iconPath: "icon.png"
  title: Azure IoT Hub
  description: >
    This is a generated connector from [Azure IoT Hub API v1.0](https://docs.microsoft.com/en-us/rest/api/iothub/) OpenAPI specification.

    Azure IoT Hub is a service that offers programmatic access to the device, messaging, and job services, as well as the resource provider, in IoT Hub.
    You can access messaging services from within an IoT service running in Azure, or directly over the Internet from any application that can send an HTTPS request and receive an HTTPS response.

    Use this API to manage the IoT hubs in your Azure subscription.
  x-ballerina-init-description: >
    The connector initialization requires setting the API credentials.

    Create an [Azure  IoT Hub account](https://azure.microsoft.com/en-us/services/iot-hub/) and obtain OAuth tokens following [this guide](https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-security).
  version: "2019-11-04"
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-ms-code-generation-settings:
    header: MICROSOFT_MIT_NO_VERSION
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/iothub/resource-manager/Microsoft.Devices/stable/2019-11-04/iothub.json
      version: "2.0"
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: iothub
  x-tags:
    - Azure
    - Microsoft
servers:
  - url: https://management.azure.com/
security:
  - azure_auth:
      - user_impersonation
paths:
  /providers/Microsoft.Devices/operations:
    get:
      tags:
        - Operations
      description: Lists all of the available IoT Hub REST API operations.
      operationId: Operations_List
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
      responses:
        200:
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OperationListResult'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      x-ms-examples:
        Operations_List:
          parameters:
            api-version: 2019-11-04
          responses:
            200:
              body:
                value:
                  - display:
                      description: Register the subscription for the IotHub resource
                        provider and enables the creation of IotHub resources
                      operation: Register Resource Provider
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/register/action
                  - display:
                      description: Gets the diagnostic setting for the resource
                      operation: Get Diagnostic Setting
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/IotHubs/diagnosticSettings/read
                  - display:
                      description: Creates or updates the diagnostic setting for the
                        resource
                      operation: Set Diagnostic Setting
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/IotHubs/diagnosticSettings/write
                  - display:
                      description: Gets the available metrics for the IotHub service
                      operation: Read IotHub service metric definitions
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/IotHubs/metricDefinitions/read
                  - display:
                      description: Gets the available log definitions for the IotHub
                        Service
                      operation: Read IotHub service log definitions
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/IotHubs/logDefinitions/read
                  - display:
                      description: Get All ResourceProvider Operations
                      operation: Get All ResourceProvider Operations
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/operations/Read
                  - display:
                      description: Check If IotHub name is available
                      operation: Check If IotHub name is available
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/checkNameAvailability/Action
                  - display:
                      description: Get subscription usage details for this provider.
                      operation: Get Subscription Usages
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/usages/Read
                  - display:
                      description: Gets the IotHub resource(s)
                      operation: Get IotHub(s)
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/Read
                  - display:
                      description: Create or update IotHub Resource
                      operation: Create or update IotHub Resource
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/Write
                  - display:
                      description: Delete IotHub Resource
                      operation: Delete IotHub Resource
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/Delete
                  - display:
                      description: Get IotHub Statistics
                      operation: Get IotHub Statistics
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/iotHubStats/Read
                  - display:
                      description: Get valid IotHub Skus
                      operation: Get valid IotHub Skus
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/skus/Read
                  - display:
                      description: Get all IotHub Keys
                      operation: Get all IotHub Keys
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/listkeys/Action
                  - display:
                      description: Get IotHub Key for the given name
                      operation: Get IotHub Key for the given name
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/iotHubKeys/listkeys/Action
                  - display:
                      description: Create EventHub Consumer Group
                      operation: Create EventHub Consumer Group
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/eventHubEndpoints/consumerGroups/Write
                  - display:
                      description: Get EventHub Consumer Group(s)
                      operation: Get EventHub Consumer Group(s)
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/eventHubEndpoints/consumerGroups/Read
                  - display:
                      description: Delete EventHub Consumer Group
                      operation: Delete EventHub Consumer Group
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/eventHubEndpoints/consumerGroups/Delete
                  - display:
                      description: Export Devices
                      operation: Export Devices
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/exportDevices/Action
                  - display:
                      description: Import Devices
                      operation: Import Devices
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/importDevices/Action
                  - display:
                      description: Get Job(s) details submitted on given IotHub
                      operation: Get the Job(s) on IotHub
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/jobs/Read
                  - display:
                      description: Get Quota Metrics
                      operation: Get Quota Metrics
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/quotaMetrics/Read
                  - display:
                      description: Test a message against all existing Routes
                      operation: Routing Rule Test All
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/routing/routes/$testall/Action
                  - display:
                      description: Test a message against a provided test Route
                      operation: Routing Rule Test Route
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/routing/routes/$testnew/Action
                  - display:
                      description: Gets the health of all routing Endpoints for an IotHub
                      operation: Get Endpoint Health
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/iotHubs/routingEndpointsHealth/Read
                  - display:
                      description: Gets the diagnostic setting for the resource
                      operation: Get Diagnostic Setting
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/ProvisioningServices/diagnosticSettings/read
                  - display:
                      description: Creates or updates the diagnostic setting for the
                        resource
                      operation: Set Diagnostic Setting
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/ProvisioningServices/diagnosticSettings/write
                  - display:
                      description: Gets the available metrics for the DPS service
                      operation: Read DPS service metric definitions
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/ProvisioningServices/metricDefinitions/read
                  - display:
                      description: Gets the available log definitions for the DPS Service
                      operation: Read DPS service log definitions
                      provider: Microsoft Devices
                      resource: IotHubs
                    name: Microsoft.Devices/ProvisioningServices/logDefinitions/read
                  - display:
                      description: Check If Provisioning Service name is available
                      operation: Check If Provisioning Service name is available
                      provider: Microsoft Devices
                      resource: ProvisioningServives
                    name: Microsoft.Devices/checkProvisioningServiceNameAvailability/Action
                  - display:
                      description: Get Provisioning Service resource
                      operation: Get Provisioning Service resource
                      provider: Microsoft Devices
                      resource: ProvisioningServices
                    name: Microsoft.Devices/provisioningServices/Read
                  - display:
                      description: Create Provisioning Service resource
                      operation: Create Provisioning Service resource
                      provider: Microsoft Devices
                      resource: ProvisioningServices
                    name: Microsoft.Devices/provisioningServices/Write
                  - display:
                      description: Delete Provisioning Service resource
                      operation: Delete Provisioning Service resource
                      provider: Microsoft Devices
                      resource: ProvisioningServices
                    name: Microsoft.Devices/provisioningServices/Delete
                  - display:
                      description: Delete Provisioning Service resource
                      operation: Delete Provisioning Service resource
                      provider: Microsoft Devices
                      resource: ProvisioningServices
                    name: Microsoft.Devices/provisioningServices/skus/Read
                  - display:
                      description: get security related metadata
                      operation: get security related metadata
                      provider: Microsoft Devices
                      resource: ProvisioningServices
                    name: Microsoft.Devices/provisioningServices/listkeys/Action
      x-ms-pageable:
        nextLinkName: nextLink
  /subscriptions/{subscriptionId}/providers/Microsoft.Devices/IotHubs:
    get:
      tags:
        - GET
      summary: Get all the IoT hubs in a subscription
      description: Get all the IoT hubs in a subscription.
      operationId: IotHubResource_ListBySubscription
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
      responses:
        200:
          description: This is a synchronous operation. The body contains a JSON-serialized
            array of the metadata from all the IoT hubs in the subscription.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubDescriptionListResult'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_ListBySubscription:
          parameters:
            api-version: 2019-11-04
            resourceName: testHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                value:
                  - etag: AAAAAAFD6M4=
                    id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/testHub
                    location: centraluseuap
                    name: testHub
                    properties:
                      cloudToDevice:
                        defaultTtlAsIso8601: PT1H
                        feedback:
                          lockDurationAsIso8601: PT1M
                          maxDeliveryCount: 10
                          ttlAsIso8601: PT1H
                        maxDeliveryCount: 10
                      enableFileUploadNotifications: false
                      eventHubEndpoints:
                        events:
                          endpoint: sb://iothub-ns-iot-dps-ci-245306-76aca8e13b.servicebus.windows.net/
                          partitionCount: 2
                          partitionIds:
                            - "0"
                            - "1"
                          path: iot-dps-cit-hub-1
                          retentionTimeInDays: 1
                      features: None
                      hostName: iot-dps-cit-hub-1.azure-devices.net
                      ipFilterRules: []
                      messagingEndpoints:
                        fileNotifications:
                          lockDurationAsIso8601: PT1M
                          maxDeliveryCount: 10
                          ttlAsIso8601: PT1H
                      provisioningState: Succeeded
                      routing:
                        endpoints:
                          eventHubs: []
                          serviceBusQueues: []
                          serviceBusTopics: []
                          storageContainers: []
                        fallbackRoute:
                          condition: "true"
                          endpointNames:
                            - events
                          isEnabled: true
                          name: $fallback
                          source: DeviceMessages
                        routes: []
                      state: Active
                      storageEndpoints:
                        $default:
                          connectionString: ""
                          containerName: ""
                          sasTtlAsIso8601: PT1H
                    sku:
                      capacity: 1
                      name: S1
                      tier: Standard
                    tags: {}
                    type: Microsoft.Devices/IotHubs
      x-ms-pageable:
        nextLinkName: nextLink
  /subscriptions/{subscriptionId}/providers/Microsoft.Devices/checkNameAvailability:
    post:
      tags:
        - POST
      summary: Check if an IoT hub name is available
      description: Check if an IoT hub name is available.
      operationId: IotHubResource_CheckNameAvailability
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
      requestBody:
        description: Set the name parameter in the OperationInputs structure to the
          name of the IoT hub to check.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OperationInputs'
        required: true
      responses:
        200:
          description: This is a synchronous operation. The body contains a JSON-serialized
            response that specifies whether the IoT hub name is available. If the
            name is not available, the body contains the reason.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubNameAvailabilityInfo'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_CheckNameAvailability:
          parameters:
            api-version: 2019-11-04
            operationInputs:
              name: test-request
            resourceGroupName: myResourceGroup
            resourceName: testHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                message: ""
                nameAvailable: true
                reason: Invalid
      x-codegen-request-body-name: operationInputs
  /subscriptions/{subscriptionId}/providers/Microsoft.Devices/usages:
    get:
      tags:
        - GET
      summary: Get the number of iot hubs in the subscription
      description: Get the number of free and paid iot hubs in the subscription
      operationId: ResourceProviderCommon_GetSubscriptionQuota
      parameters:
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserSubscriptionQuotaListResult'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        ResourceProviderCommon_GetSubscriptionQuota:
          parameters:
            api-version: 2019-11-04
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                value:
                  - currentValue: 1
                    id: /subscription/91d12660-3dec-467a-be2a-213b5544ddc0/providers/Microsoft.Devices/usages/freeHubCount
                    limit: 1
                    name:
                      localizedValue: Free Hub Count
                      value: FreeHubCount
                    type: /subscription/91d12660-3dec-467a-be2a-213b5544ddc0/providers/Microsoft.Devices/usages
                    unit: count
  /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs:
    get:
      tags:
        - GET
      summary: Get all the IoT hubs in a resource group
      description: Get all the IoT hubs in a resource group.
      operationId: IotHubResource_ListByResourceGroup
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: The name of the resource group that contains the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
      responses:
        200:
          description: This is a synchronous operation. The body contains a JSON-serialized
            array of the metadata from all the IoT hubs in the resource group.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubDescriptionListResult'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_ListByResourceGroup:
          parameters:
            api-version: 2019-11-04
            resourceGroupName: myResourceGroup
            resourceName: testHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                value:
                  - etag: AAAAAAFD6M4=
                    id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/testHub
                    location: centraluseuap
                    name: testHub
                    properties:
                      cloudToDevice:
                        defaultTtlAsIso8601: PT1H
                        feedback:
                          lockDurationAsIso8601: PT1M
                          maxDeliveryCount: 10
                          ttlAsIso8601: PT1H
                        maxDeliveryCount: 10
                      enableFileUploadNotifications: false
                      eventHubEndpoints:
                        events:
                          endpoint: sb://iothub-ns-iot-dps-ci-245306-76aca8e13b.servicebus.windows.net/
                          partitionCount: 2
                          partitionIds:
                            - "0"
                            - "1"
                          path: iot-dps-cit-hub-1
                          retentionTimeInDays: 1
                      features: None
                      hostName: iot-dps-cit-hub-1.azure-devices.net
                      ipFilterRules: []
                      messagingEndpoints:
                        fileNotifications:
                          lockDurationAsIso8601: PT1M
                          maxDeliveryCount: 10
                          ttlAsIso8601: PT1H
                      provisioningState: Succeeded
                      routing:
                        endpoints:
                          eventHubs: []
                          serviceBusQueues: []
                          serviceBusTopics: []
                          storageContainers: []
                        fallbackRoute:
                          condition: "true"
                          endpointNames:
                            - events
                          isEnabled: true
                          name: $fallback
                          source: DeviceMessages
                        routes: []
                      state: Active
                      storageEndpoints:
                        $default:
                          connectionString: ""
                          containerName: ""
                          sasTtlAsIso8601: PT1H
                    sku:
                      capacity: 1
                      name: S1
                      tier: Standard
                    tags: {}
                    type: Microsoft.Devices/IotHubs
      x-ms-pageable:
        nextLinkName: nextLink
  /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{iotHubName}/failover:
    post:
      tags:
        - POST
      summary: Manually initiate a failover for the IoT Hub to its secondary region
      description: Manually initiate a failover for the IoT Hub to its secondary region.
        To learn more, see https://aka.ms/manualfailover
      operationId: IotHub_ManualFailover
      parameters:
        - name: iotHubName
          in: path
          description: Name of the IoT hub to failover
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: Name of the resource group containing the IoT hub resource
          required: true
          schema:
            type: string
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
      requestBody:
        description: Region to failover to. Must be the Azure paired region. Get the
          value from the secondary location in the locations property. To learn more,
          see https://aka.ms/manualfailover/region
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FailoverInput'
        required: true
      responses:
        200:
          description: Long running manual failover operation for the IoT hub completed
          content: {}
        202:
          description: Manual failover initiated
          content: {}
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      x-ms-examples:
        IotHub_ManualFailover:
          parameters:
            api-version: 2019-11-04
            failoverInput:
              failoverRegion: testHub
            iotHubName: testHub
            resourceGroupName: myResourceGroup
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200: {}
            202: {}
      x-ms-long-running-operation: true
      x-codegen-request-body-name: failoverInput
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{iotHubName}/routing/routes/$testall
  : post:
      tags:
        - POST
      summary: Test all routes
      description: Test all routes configured in this Iot Hub
      operationId: IotHubResource_TestAllRoutes
      parameters:
        - name: iotHubName
          in: path
          description: IotHub to be tested
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: resource group which Iot Hub belongs to
          required: true
          schema:
            type: string
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
      requestBody:
        description: Input for testing all routes
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TestAllRoutesInput'
        required: true
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TestAllRoutesResult'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_TestAllRoutes:
          parameters:
            api-version: 2019-11-04
            input:
              message:
                appProperties:
                  key1: value1
                body: Body of message
                systemProperties:
                  key1: value1
              routingSource: DeviceMessages
            iotHubName: testHub
            resourceGroupName: myResourceGroup
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                routes:
                  - properties:
                      endpointNames:
                        - id1
                      isEnabled: true
                      name: Routeid
                      source: DeviceMessages
      x-codegen-request-body-name: input
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{iotHubName}/routing/routes/$testnew
  : post:
        tags:
          - POST
        summary: Test the new route
        description: Test the new route for this Iot Hub
        operationId: IotHubResource_TestRoute
        parameters:
          - name: iotHubName
            in: path
            description: IotHub to be tested
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: resource group which Iot Hub belongs to
            required: true
            schema:
              type: string
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
        requestBody:
          description: Route that needs to be tested
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TestRouteInput'
          required: true
        responses:
          200:
            description: OK
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/TestRouteResult'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_TestRoute:
            parameters:
              api-version: 2019-11-04
              input:
                message:
                  appProperties:
                    key1: value1
                  body: Body of message
                  systemProperties:
                    key1: value1
                route:
                  endpointNames:
                    - id1
                  isEnabled: true
                  name: Routeid
                  source: DeviceMessages
              iotHubName: testHub
              resourceGroupName: myResourceGroup
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  details:
                    compilationErrors:
                      - location:
                          end:
                            column: 24
                            line: 12
                          start:
                            column: 12
                            line: 12
                        message: string response
                        severity: error
                  result: "false"
        x-codegen-request-body-name: input
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{iotHubName}/routingEndpointsHealth
  : get:
        tags:
          - GET
        summary: Get the health for routing endpoints
        description: Get the health for routing endpoints.
        operationId: IotHubResource_GetEndpointHealth
        parameters:
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            required: true
            schema:
              type: string
          - name: iotHubName
            in: path
            required: true
            schema:
              type: string
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
        responses:
          200:
            description: OK
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/EndpointHealthDataListResult'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_GetEndpointHealth:
            parameters:
              api-version: 2019-11-04
              iotHubName: testHub
              resourceGroupName: myResourceGroup
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  value:
                    - endpointId: id1
                      healthStatus: healthy
                    - endpointId: id2
                      healthStatus: unknown
        x-ms-pageable:
          nextLinkName: nextLink
  /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}:
    get:
      tags:
        - GET
      summary: Get the non-security related metadata of an IoT hub
      description: Get the non-security related metadata of an IoT hub.
      operationId: IotHubResource_Get
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: The name of the resource group that contains the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
        - name: resourceName
          in: path
          description: The name of the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
      responses:
        200:
          description: The body contains all the non-security properties of the IoT
            hub. Security-related properties are set to null.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubDescription'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_Get:
          parameters:
            api-version: 2019-11-04
            resourceGroupName: myResourceGroup
            resourceName: testHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                etag: AAAAAAFD6M4=
                id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/testHub
                location: centraluseuap
                name: testHub
                properties:
                  cloudToDevice:
                    defaultTtlAsIso8601: PT1H
                    feedback:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                    maxDeliveryCount: 10
                  enableFileUploadNotifications: false
                  eventHubEndpoints:
                    events:
                      endpoint: sb://iothub-ns-iot-dps-ci-245306-76aca8e13b.servicebus.windows.net/
                      partitionCount: 2
                      partitionIds:
                        - "0"
                        - "1"
                      path: iot-dps-cit-hub-1
                      retentionTimeInDays: 1
                  features: None
                  hostName: iot-dps-cit-hub-1.azure-devices.net
                  ipFilterRules: []
                  locations:
                    - location: West US
                      role: primary
                    - location: East US
                      role: secondary
                  messagingEndpoints:
                    fileNotifications:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                  provisioningState: Succeeded
                  routing:
                    endpoints:
                      eventHubs: []
                      serviceBusQueues: []
                      serviceBusTopics: []
                      storageContainers: []
                    fallbackRoute:
                      condition: "true"
                      endpointNames:
                        - events
                      isEnabled: true
                      source: DeviceMessages
                    routes: []
                  state: Active
                  storageEndpoints:
                    $default:
                      connectionString: ""
                      containerName: ""
                      sasTtlAsIso8601: PT1H
                sku:
                  capacity: 1
                  name: S1
                  tier: Standard
                tags: {}
                type: Microsoft.Devices/IotHubs
    put:
      tags:
        - PUT
      summary: Create or update the metadata of an IoT hub.
      description: Create or update the metadata of an Iot hub. The usual pattern
        to modify a property is to retrieve the IoT hub metadata and security metadata,
        and then combine them with the modified values in a new body to update the
        IoT hub.
      operationId: IotHubResource_CreateOrUpdate
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: The name of the resource group that contains the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
        - name: resourceName
          in: path
          description: The name of the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
        - name: If-Match
          in: header
          description: ETag of the IoT Hub. Do not specify for creating a brand new
            IoT Hub. Required to update an existing IoT Hub.
          schema:
            type: string
      requestBody:
        description: The IoT hub metadata and security metadata.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IotHubDescription'
        required: true
      responses:
        200:
          description: This is returned as a response to the status polling request
            for the create or update operation. The body contains the resource representation
            that indicates a transitional provisioning state.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubDescription'
        201:
          description: This is a long running operation. The operation returns a 201
            if the validation is complete. The response includes an Azure-AsyncOperation
            header that contains a status URL. Clients are expected to poll the status
            URL for the status of the operation. If successful, the operation returns
            HTTP status code of 201 (OK).
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubDescription'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_CreateOrUpdate:
          parameters:
            api-version: 2019-11-04
            iotHubDescription:
              etag: AAAAAAFD6M4=
              location: centraluseuap
              properties:
                cloudToDevice:
                  defaultTtlAsIso8601: PT1H
                  feedback:
                    lockDurationAsIso8601: PT1M
                    maxDeliveryCount: 10
                    ttlAsIso8601: PT1H
                  maxDeliveryCount: 10
                enableFileUploadNotifications: false
                eventHubEndpoints:
                  events:
                    partitionCount: 2
                    retentionTimeInDays: 1
                features: None
                ipFilterRules: []
                messagingEndpoints:
                  fileNotifications:
                    lockDurationAsIso8601: PT1M
                    maxDeliveryCount: 10
                    ttlAsIso8601: PT1H
                routing:
                  endpoints:
                    eventHubs: []
                    serviceBusQueues: []
                    serviceBusTopics: []
                    storageContainers: []
                  fallbackRoute:
                    condition: "true"
                    endpointNames:
                      - events
                    isEnabled: true
                    name: $fallback
                    source: DeviceMessages
                  routes: []
                storageEndpoints:
                  $default:
                    connectionString: ""
                    containerName: ""
                    sasTtlAsIso8601: PT1H
              sku:
                capacity: 1
                name: S1
              tags: {}
            resourceGroupName: myResourceGroup
            resourceName: testHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                etag: AAAAAAFD6M4=
                id: /subscriptions/ae24ff83-d2ca-4fc8-9717-05dae4bba489/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/testHub
                location: centraluseuap
                name: testHub
                properties:
                  cloudToDevice:
                    defaultTtlAsIso8601: PT1H
                    feedback:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                    maxDeliveryCount: 10
                  enableFileUploadNotifications: false
                  eventHubEndpoints:
                    events:
                      endpoint: sb://iothub-ns-iot-dps-ci-245306-76aca8e13b.servicebus.windows.net/
                      partitionCount: 2
                      partitionIds:
                        - "0"
                        - "1"
                      path: iot-dps-cit-hub-1
                      retentionTimeInDays: 1
                  features: None
                  hostName: iot-dps-cit-hub-1.azure-devices.net
                  ipFilterRules: []
                  messagingEndpoints:
                    fileNotifications:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                  provisioningState: Succeeded
                  routing:
                    endpoints:
                      eventHubs: []
                      serviceBusQueues: []
                      serviceBusTopics: []
                      storageContainers: []
                    fallbackRoute:
                      condition: "true"
                      endpointNames:
                        - events
                      isEnabled: true
                      name: $fallback
                      source: DeviceMessages
                    routes: []
                  state: Active
                  storageEndpoints:
                    $default:
                      connectionString: ""
                      containerName: ""
                      sasTtlAsIso8601: PT1H
                sku:
                  capacity: 1
                  name: S1
                  tier: Standard
                tags: {}
                type: Microsoft.Devices/IotHubs
            201:
              body:
                etag: AAAAAAFD6M4=
                id: /subscriptions/ae24ff83-d2ca-4fc8-9717-05dae4bba489/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/testHub
                location: centraluseuap
                name: testHub
                properties:
                  cloudToDevice:
                    defaultTtlAsIso8601: PT1H
                    feedback:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                    maxDeliveryCount: 10
                  enableFileUploadNotifications: false
                  eventHubEndpoints:
                    events:
                      endpoint: sb://iothub-ns-iot-dps-ci-245306-76aca8e13b.servicebus.windows.net/
                      partitionCount: 2
                      partitionIds:
                        - "0"
                        - "1"
                      path: iot-dps-cit-hub-1
                      retentionTimeInDays: 1
                  features: None
                  hostName: iot-dps-cit-hub-1.azure-devices.net
                  ipFilterRules: []
                  messagingEndpoints:
                    fileNotifications:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                  provisioningState: Succeeded
                  routing:
                    endpoints:
                      eventHubs: []
                      serviceBusQueues: []
                      serviceBusTopics: []
                      storageContainers: []
                    fallbackRoute:
                      condition: "true"
                      endpointNames:
                        - events
                      isEnabled: true
                      name: $fallback
                      source: DeviceMessages
                    routes: []
                  state: Active
                  storageEndpoints:
                    $default:
                      connectionString: ""
                      containerName: ""
                      sasTtlAsIso8601: PT1H
                sku:
                  capacity: 1
                  name: S1
                  tier: Standard
                tags: {}
                type: Microsoft.Devices/IotHubs
      x-ms-long-running-operation: true
      x-codegen-request-body-name: iotHubDescription
    delete:
      tags:
        - DELETE
      summary: Delete an IoT hub
      description: Delete an IoT hub.
      operationId: IotHubResource_Delete
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: The name of the resource group that contains the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
        - name: resourceName
          in: path
          description: The name of the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
      responses:
        200:
          description: This is returned as a response to the status polling request
            for the delete operation. The body contains the resource representation
            that indicates a transitional provisioning state.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubDescription'
        202:
          description: The Iot Hub resource provider always returns a 202 Accepted
            status code with valid Location and Retry-After headers. The resource
            provider also sets the Azure-AsyncOperation header with a URL that points
            to the operation resource for this operation. Subsequent GET attempts
            on the resource after a DELETE operation return a resource representation
            that indicates a transitional provisioning state (such as Terminating).
            To retrieve the status of the operation, a client can either poll the
            URL returned in the Location header after the Retry-After interval, get
            the IoT Hub service status directly, or query the operation resource.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubDescription'
        204:
          description: Once the long running delete operation completes successfully,
            a 204 No Content status code is returned when the status polling request
            finds the Iot hub metadata in the service and the status of the delete
            operation is set to a completed state.
          content: {}
        404:
          description: After the long running delete operation completes successfully,
            a 404 Not Found is returned when the status polling request no longer
            finds the Iot hub metadata in the service.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_Delete:
          parameters:
            api-version: 2019-11-04
            resourceGroupName: myResourceGroup
            resourceName: testHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                etag: AAAAAAFD6M4=
                id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/testHub
                location: centraluseuap
                name: testHub
                properties:
                  cloudToDevice:
                    defaultTtlAsIso8601: PT1H
                    feedback:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                    maxDeliveryCount: 10
                  enableFileUploadNotifications: false
                  eventHubEndpoints:
                    events:
                      endpoint: sb://iothub-ns-iot-dps-ci-245306-76aca8e13b.servicebus.windows.net/
                      partitionCount: 2
                      partitionIds:
                        - "0"
                        - "1"
                      path: iot-dps-cit-hub-1
                      retentionTimeInDays: 1
                  features: None
                  hostName: iot-dps-cit-hub-1.azure-devices.net
                  ipFilterRules: []
                  messagingEndpoints:
                    fileNotifications:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                  provisioningState: Succeeded
                  routing:
                    endpoints:
                      eventHubs: []
                      serviceBusQueues: []
                      serviceBusTopics: []
                      storageContainers: []
                    fallbackRoute:
                      condition: "true"
                      endpointNames:
                        - events
                      isEnabled: true
                      source: DeviceMessages
                    routes: []
                  state: Active
                  storageEndpoints:
                    $default:
                      connectionString: ""
                      containerName: ""
                      sasTtlAsIso8601: PT1H
                sku:
                  capacity: 1
                  name: S1
                  tier: Standard
                tags: {}
                type: Microsoft.Devices/IotHubs
            202:
              body:
                etag: AAAAAAFD6M4=
                id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/testHub
                location: centraluseuap
                name: testHub
                properties:
                  cloudToDevice:
                    defaultTtlAsIso8601: PT1H
                    feedback:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                    maxDeliveryCount: 10
                  enableFileUploadNotifications: false
                  eventHubEndpoints:
                    events:
                      endpoint: sb://iothub-ns-iot-dps-ci-245306-76aca8e13b.servicebus.windows.net/
                      partitionCount: 2
                      partitionIds:
                        - "0"
                        - "1"
                      path: iot-dps-cit-hub-1
                      retentionTimeInDays: 1
                  features: None
                  hostName: iot-dps-cit-hub-1.azure-devices.net
                  ipFilterRules: []
                  messagingEndpoints:
                    fileNotifications:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                  provisioningState: Succeeded
                  routing:
                    endpoints:
                      eventHubs: []
                      serviceBusQueues: []
                      serviceBusTopics: []
                      storageContainers: []
                    fallbackRoute:
                      condition: "true"
                      endpointNames:
                        - events
                      isEnabled: true
                      source: DeviceMessages
                    routes: []
                  state: Active
                  storageEndpoints:
                    $default:
                      connectionString: ""
                      containerName: ""
                      sasTtlAsIso8601: PT1H
                sku:
                  capacity: 1
                  name: S1
                  tier: Standard
                tags: {}
                type: Microsoft.Devices/IotHubs
            204: {}
            404:
              body: {}
      x-ms-long-running-operation: true
    patch:
      tags:
        - PATCH
      summary: Update an existing IoT Hubs tags.
      description: Update an existing IoT Hub tags. to update other fields use the
        CreateOrUpdate method
      operationId: IotHubResource_Update
      parameters:
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: Resource group identifier.
          required: true
          schema:
            type: string
        - name: resourceName
          in: path
          description: Name of iot hub to update.
          required: true
          schema:
            type: string
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
      requestBody:
        description: Updated tag information to set into the iot hub instance.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TagsResource'
        required: true
      responses:
        200:
          description: Iot Hub was successfully updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubDescription'
      x-ms-examples:
        IotHubResource_Update:
          parameters:
            IotHubTags:
              tags:
                foo: bar
            api-version: 2019-11-04
            location: East US
            resourceGroupName: myResourceGroup
            resourceName: myHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            type: Microsoft.Devices/IotHubs
          responses:
            200:
              body:
                etag: AAAAAAFD6M4=
                id: /subscriptions/ae24ff83-d2ca-4fc8-9717-05dae4bba489/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/testHub
                location: centraluseuap
                name: testHub
                properties:
                  cloudToDevice:
                    defaultTtlAsIso8601: PT1H
                    feedback:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                    maxDeliveryCount: 10
                  enableFileUploadNotifications: false
                  eventHubEndpoints:
                    events:
                      endpoint: sb://iothub-ns-iot-dps-ci-245306-76aca8e13b.servicebus.windows.net/
                      partitionCount: 2
                      partitionIds:
                        - "0"
                        - "1"
                      path: iot-dps-cit-hub-1
                      retentionTimeInDays: 1
                  features: None
                  hostName: iot-dps-cit-hub-1.azure-devices.net
                  ipFilterRules: []
                  messagingEndpoints:
                    fileNotifications:
                      lockDurationAsIso8601: PT1M
                      maxDeliveryCount: 10
                      ttlAsIso8601: PT1H
                  provisioningState: Succeeded
                  routing:
                    endpoints:
                      eventHubs: []
                      serviceBusQueues: []
                      serviceBusTopics: []
                      storageContainers: []
                    fallbackRoute:
                      condition: "true"
                      endpointNames:
                        - events
                      isEnabled: true
                      name: $fallback
                      source: DeviceMessages
                    routes: []
                  state: Active
                  storageEndpoints:
                    $default:
                      connectionString: ""
                      containerName: ""
                      sasTtlAsIso8601: PT1H
                sku:
                  capacity: 1
                  name: S1
                  tier: Standard
                tags:
                  foo: bar
                type: Microsoft.Devices/IotHubs
      x-ms-long-running-operation: true
      x-codegen-request-body-name: IotHubTags
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/IotHubKeys/{keyName}/listkeys
  : post:
        tags:
          - POST
        summary: 'Get a shared access policy by name from an IoT hub. For more information,
        see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security'
        description: 'Get a shared access policy by name from an IoT hub. For more information,
        see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security.'
        operationId: IotHubResource_GetKeysForKeyName
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: keyName
            in: path
            description: The name of the shared access policy.
            required: true
            schema:
              type: string
        responses:
          200:
            description: This is a synchronous operation. The body contains a JSON-serialized
              shared access policy, including keys, that you can use to access one or
              more IoT hub endpoints.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/SharedAccessSignatureAuthorizationRule'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_GetKeysForKeyName:
            parameters:
              api-version: 2019-11-04
              keyName: iothubowner
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  keyName: iothubowner
                  primaryKey: 2aWPrKloLLdcug12ZHNpA0e07yJmRRmYMXDLpEOTd/Y=
                  rights: RegistryWrite, ServiceConnect, DeviceConnect
                  secondaryKey: DLyFnDTGMDK0BU2QjT5TCkNBQ4h08mi20vOqWMC7TxU=
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/IotHubStats
  : get:
        tags:
          - GET
        summary: Get the statistics from an IoT hub
        description: Get the statistics from an IoT hub.
        operationId: IotHubResource_GetStats
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
        responses:
          200:
            description: This is a synchronous operation. The body contains JSON-serialized
              statistics from the identity registry in the IoT hub.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/RegistryStatistics'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_GetStats:
            parameters:
              api-version: 2018-04-01
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  disabledDeviceCount: 0
                  enabledDeviceCount: 0
                  totalDeviceCount: 0
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/certificates
  : get:
        tags:
          - Certificates
        summary: Get the certificate list.
        description: Returns the list of certificates.
        operationId: Certificates_ListByIotHub
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
        responses:
          200:
            description: The body contains all the certificate list.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/CertificateListDescription'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          Certificates_ListByIotHub:
            parameters:
              api-version: 2019-11-04
              resourceGroupName: myResourceGroup
              resourceName: testhub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  value:
                    - etag: AAAAAAExpNs=
                      id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/andbuc-hub/certificates/cert
                      name: cert
                      properties:
                        created: Thu, 12 Oct 2017 19:23:50 GMT
                        expiry: Sat, 31 Dec 2039 23:59:59 GMT
                        isVerified: false
                        subject: CN=testdevice1
                        thumbprint: 97388663832D0393C9246CAB4FBA2C8677185A25
                        updated: Thu, 12 Oct 2017 19:23:50 GMT
                      type: Microsoft.Devices/IotHubs/Certificates
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/certificates/{certificateName}
  : get:
        tags:
          - Certificates
        summary: Get the certificate.
        description: Returns the certificate.
        operationId: Certificates_Get
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: certificateName
            in: path
            description: The name of the certificate
            required: true
            schema:
              pattern: ^[A-Za-z0-9-._]{1,64}$
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
        responses:
          200:
            description: The body contains the certificate.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/CertificateDescription'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          Certificates_Get:
            parameters:
              api-version: 2019-11-04
              certificateName: cert
              resourceGroupName: myResourceGroup
              resourceName: testhub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  etag: AAAAAAExpNs=
                  id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/andbuc-hub/certificates/cert
                  name: cert
                  properties:
                    created: Thu, 12 Oct 2017 19:23:50 GMT
                    expiry: Sat, 31 Dec 2039 23:59:59 GMT
                    isVerified: false
                    subject: CN=testdevice1
                    thumbprint: 97388663832D0393C9246CAB4FBA2C8677185A25
                    updated: Thu, 12 Oct 2017 19:23:50 GMT
                  type: Microsoft.Devices/IotHubs/Certificates
    put:
        tags:
          - Certificates
        summary: Upload the certificate to the IoT hub.
        description: Adds new or replaces existing certificate.
        operationId: Certificates_CreateOrUpdate
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: certificateName
            in: path
            description: The name of the certificate
            required: true
            schema:
              pattern: ^[A-Za-z0-9-._]{1,64}$
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: If-Match
            in: header
            description: ETag of the Certificate. Do not specify for creating a brand
              new certificate. Required to update an existing certificate.
            schema:
              type: string
        requestBody:
          description: The certificate body.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CertificateBodyDescription'
          required: true
        responses:
          200:
            description: If certificate already exist and update was successful, the
              operation returns HTTP status code of 201 (OK).
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/CertificateDescription'
          201:
            description: If certificate didn't exist creation was successful, the operation
              returns HTTP status code of 201 (OK).
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/CertificateDescription'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          Certificates_CreateOrUpdate:
            parameters:
              api-version: 2019-11-04
              certificateDescription:
                certificate: '############################################'
              certificateName: cert
              resourceGroupName: myResourceGroup
              resourceName: iothub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  etag: AAAAAAExpNs=
                  id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServives/myFirstProvisioningService/certificates/cert
                  name: cert
                  properties:
                    created: Thu, 12 Oct 2017 19:23:50 GMT
                    expiry: Sat, 31 Dec 2039 23:59:59 GMT
                    isVerified: false
                    subject: CN=testdevice1
                    thumbprint: 97388663832D0393C9246CAB4FBA2C8677185A25
                    updated: Thu, 12 Oct 2017 19:23:50 GMT
                  type: Microsoft.Devices/IotHubs/Certificates
              201:
                body:
                  etag: AAAAAAExpNs=
                  id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServives/myFirstProvisioningService/certificates/cert
                  name: cert
                  properties:
                    created: Thu, 12 Oct 2017 19:23:50 GMT
                    expiry: Sat, 31 Dec 2039 23:59:59 GMT
                    isVerified: false
                    subject: CN=testdevice1
                    thumbprint: 97388663832D0393C9246CAB4FBA2C8677185A25
                    updated: Thu, 12 Oct 2017 19:23:50 GMT
                  type: Microsoft.Devices/IotHubs/Certificates
        x-codegen-request-body-name: certificateDescription
    delete:
        tags:
          - Certificates
        summary: Delete an X509 certificate.
        description: Deletes an existing X509 certificate or does nothing if it does
          not exist.
        operationId: Certificates_Delete
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: certificateName
            in: path
            description: The name of the certificate
            required: true
            schema:
              pattern: ^[A-Za-z0-9-._]{1,64}$
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: If-Match
            in: header
            description: ETag of the Certificate.
            required: true
            schema:
              type: string
        responses:
          200:
            description: Certificate has been deleted.
            content: {}
          204:
            description: Certificate does not exist.
            content: {}
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          Certificates_Delete:
            parameters:
              If-Match: AAAAAAAADGk=
              api-version: 2019-11-04
              certificateName: cert
              resourceGroupName: myResourceGroup
              resourceName: myhub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200: {}
              204: {}
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/certificates/{certificateName}/generateVerificationCode
  : post:
        tags:
          - Certificates
        summary: Generate verification code for proof of possession flow.
        description: Generates verification code for proof of possession flow. The verification
          code will be used to generate a leaf certificate.
        operationId: Certificates_GenerateVerificationCode
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: certificateName
            in: path
            description: The name of the certificate
            required: true
            schema:
              pattern: ^[A-Za-z0-9-._]{1,64}$
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: If-Match
            in: header
            description: ETag of the Certificate.
            required: true
            schema:
              type: string
        responses:
          200:
            description: The body contains the certificate.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/CertificateWithNonceDescription'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          Certificates_GenerateVerificationCode:
            parameters:
              If-Match: AAAAAAAADGk=
              api-version: 2019-11-04
              certificateName: cert
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  name: cert
                  properties:
                    created: Thu, 12 Oct 2017 19:23:50 GMT
                    expiry: Sat, 31 Dec 2039 23:59:59 GMT
                    isVerified: false
                    subject: CN=andbucdevice1
                    thumbprint: '##############################'
                    updated: Thu, 12 Oct 2017 19:26:56 GMT
                    verificationCode: '##################################'
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/certificates/{certificateName}/verify
  : post:
        tags:
          - Certificates
        summary: Verify certificate's private key possession.
        description: Verifies the certificate's private key possession by providing
          the leaf cert issued by the verifying pre uploaded certificate.
        operationId: Certificates_Verify
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: certificateName
            in: path
            description: The name of the certificate
            required: true
            schema:
              pattern: ^[A-Za-z0-9-._]{1,64}$
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: If-Match
            in: header
            description: ETag of the Certificate.
            required: true
            schema:
              type: string
        requestBody:
          description: The name of the certificate
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CertificateVerificationDescription'
          required: true
        responses:
          200:
            description: The body contains the certificate.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/CertificateDescription'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          Certificates_Verify:
            parameters:
              If-Match: AAAAAAAADGk=
              api-version: 2019-11-04
              certificateName: cert
              certificateVerificationBody:
                certificate: '#####################################'
              resourceGroupName: myResourceGroup
              resourceName: myFirstProvisioningService
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  etag: AAAAAAExpTQ=
                  id: /subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServices/myFirstProvisioningService/certificates/cert
                  name: cert
                  properties:
                    created: Thu, 12 Oct 2017 19:23:50 GMT
                    expiry: Sat, 31 Dec 2039 23:59:59 GMT
                    isVerified: true
                    subject: CN=andbucdevice1
                    thumbprint: 97388663832D0393C9246CAB4FBA2C8677185A25
                    updated: Thu, 12 Oct 2017 19:26:56 GMT
                  type: Microsoft.Devices/IotHubs/Certificates
        x-codegen-request-body-name: certificateVerificationBody
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/eventHubEndpoints/{eventHubEndpointName}/ConsumerGroups
  : get:
        tags:
          - GET
        summary: Get a list of the consumer groups in the Event Hub-compatible device-to-cloud
          endpoint in an IoT hub
        description: Get a list of the consumer groups in the Event Hub-compatible device-to-cloud
          endpoint in an IoT hub.
        operationId: IotHubResource_ListEventHubConsumerGroups
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: eventHubEndpointName
            in: path
            description: The name of the Event Hub-compatible endpoint.
            required: true
            schema:
              type: string
        responses:
          200:
            description: This is a synchronous operation. The body contains a JSON-serialized
              list of the consumer groups in the Event Hub-compatible endpoint in this
              IoT hub
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/EventHubConsumerGroupsListResult'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_ListEventHubConsumerGroups:
            parameters:
              api-version: 2019-11-04
              eventHubEndpointName: events
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  value:
                    - etag: AAAAAAFD6M4=
                      id: /subscriptions/cmd-sub-1/resourceGroups/cmd-rg-1/providers/Microsoft.Devices/IotHubs/test-hub-2/eventHubEndpoints/events/ConsumerGroups/%24Default
                      name: $Default
                      properties:
                        created: Thu, 15 Jun 2017 19:20:58 GMT
                      type: Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups
        x-ms-pageable:
          nextLinkName: nextLink
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/eventHubEndpoints/{eventHubEndpointName}/ConsumerGroups/{name}
  : get:
        tags:
          - GET
        summary: Get a consumer group from the Event Hub-compatible device-to-cloud
          endpoint for an IoT hub
        description: Get a consumer group from the Event Hub-compatible device-to-cloud
          endpoint for an IoT hub.
        operationId: IotHubResource_GetEventHubConsumerGroup
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: eventHubEndpointName
            in: path
            description: The name of the Event Hub-compatible endpoint in the IoT hub.
            required: true
            schema:
              type: string
          - name: name
            in: path
            description: The name of the consumer group to retrieve.
            required: true
            schema:
              type: string
        responses:
          200:
            description: This is a synchronous operation. The body contains a JSON-serialized
              consumer group.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/EventHubConsumerGroupInfo'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_ListEventHubConsumerGroups:
            parameters:
              api-version: 2019-11-04
              eventHubEndpointName: events
              name: test
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  etag: AAAAAAFD6M4=
                  id: /subscriptions/cmd-sub-1/resourceGroups/cmd-rg-1/providers/Microsoft.Devices/IotHubs/test-hub-2/eventHubEndpoints/events/ConsumerGroups/%24Default
                  name: test
                  properties:
                    created: Thu, 15 Jun 2017 19:20:58 GMT
                  type: Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups
    put:
        tags:
          - PUT
        summary: Add a consumer group to an Event Hub-compatible endpoint in an IoT
          hub
        description: Add a consumer group to an Event Hub-compatible endpoint in an
          IoT hub.
        operationId: IotHubResource_CreateEventHubConsumerGroup
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: eventHubEndpointName
            in: path
            description: The name of the Event Hub-compatible endpoint in the IoT hub.
            required: true
            schema:
              type: string
          - name: name
            in: path
            description: The name of the consumer group to add.
            required: true
            schema:
              type: string
        responses:
          200:
            description: This is a synchronous operation.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/EventHubConsumerGroupInfo'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_CreateEventHubConsumerGroup:
            parameters:
              api-version: 2019-11-04
              eventHubEndpointName: events
              name: test
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  etag: AAAAAAFD6M4=
                  id: /subscriptions/cmd-sub-1/resourceGroups/cmd-rg-1/providers/Microsoft.Devices/IotHubs/test-hub-2/eventHubEndpoints/events/ConsumerGroups/%24Default
                  name: test
                  properties:
                    created: Thu, 15 Jun 2017 19:20:58 GMT
                  type: Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups
    delete:
        tags:
          - DELETE
        summary: Delete a consumer group from an Event Hub-compatible endpoint in an
          IoT hub
        description: Delete a consumer group from an Event Hub-compatible endpoint in
          an IoT hub.
        operationId: IotHubResource_DeleteEventHubConsumerGroup
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: eventHubEndpointName
            in: path
            description: The name of the Event Hub-compatible endpoint in the IoT hub.
            required: true
            schema:
              type: string
          - name: name
            in: path
            description: The name of the consumer group to delete.
            required: true
            schema:
              type: string
        responses:
          200:
            description: This is a synchronous operation.
            content: {}
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_DeleteEventHubConsumerGroup:
            parameters:
              api-version: 2019-11-04
              eventHubEndpointName: events
              name: test
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200: {}
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/exportDevices
  : post:
        tags:
          - POST
        summary: 'Exports all the device identities in the IoT hub identity registry
        to an Azure Storage blob container. For more information, see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry#import-and-export-device-identities'
        description: 'Exports all the device identities in the IoT hub identity registry
        to an Azure Storage blob container. For more information, see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry#import-and-export-device-identities.'
        operationId: IotHubResource_ExportDevices
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
        requestBody:
          description: The parameters that specify the export devices operation.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExportDevicesRequest'
          required: true
        responses:
          200:
            description: OK
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/JobResponse'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_ExportDevices:
            parameters:
              api-version: 2019-11-04
              exportDevicesParameters:
                excludeKeys: true
                exportBlobContainerUri: testBlob
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  endTimeUtc: Thu, 15 Jun 2017 19:20:58 GMT
                  jobId: test
                  startTimeUtc: Thu, 15 Jun 2017 19:20:58 GMT
                  status: unknown
                  type: unknown
        x-codegen-request-body-name: exportDevicesParameters
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/importDevices
  : post:
        tags:
          - POST
        summary: 'Import, update, or delete device identities in the IoT hub identity
        registry from a blob. For more information, see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry#import-and-export-device-identities'
        description: 'Import, update, or delete device identities in the IoT hub identity
        registry from a blob. For more information, see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry#import-and-export-device-identities.'
        operationId: IotHubResource_ImportDevices
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
        requestBody:
          description: The parameters that specify the import devices operation.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ImportDevicesRequest'
          required: true
        responses:
          200:
            description: OK
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/JobResponse'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_ImportDevices:
            parameters:
              api-version: 2019-11-04
              importDevicesParameters:
                inputBlobContainerUri: testBlob
                outputBlobContainerUri: testBlob
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  endTimeUtc: Thu, 15 Jun 2017 19:20:58 GMT
                  jobId: test
                  startTimeUtc: Thu, 15 Jun 2017 19:20:58 GMT
                  status: unknown
                  type: unknown
        x-codegen-request-body-name: importDevicesParameters
  /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/jobs:
    get:
      tags:
        - GET
      summary: 'Get a list of all the jobs in an IoT hub. For more information, see:
        https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry'
      description: 'Get a list of all the jobs in an IoT hub. For more information,
        see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry.'
      operationId: IotHubResource_ListJobs
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: The name of the resource group that contains the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
        - name: resourceName
          in: path
          description: The name of the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
      responses:
        200:
          description: This is a synchronous operation. The response contains a JSON-serialized
            array of all the jobs in the IoT hub.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobResponseListResult'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_ListJobs:
          parameters:
            api-version: 2019-11-04
            resourceGroupName: myResourceGroup
            resourceName: testHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                value:
                  - endTimeUtc: Thu, 15 Jun 2017 19:20:58 GMT
                    jobId: test
                    startTimeUtc: Thu, 15 Jun 2017 19:20:58 GMT
                    status: unknown
                    type: unknown
      x-ms-pageable:
        nextLinkName: nextLink
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/jobs/{jobId}
  : get:
        tags:
          - GET
        summary: 'Get the details of a job from an IoT hub. For more information, see:
        https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry'
        description: 'Get the details of a job from an IoT hub. For more information,
        see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry.'
        operationId: IotHubResource_GetJob
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: jobId
            in: path
            description: The job identifier.
            required: true
            schema:
              type: string
        responses:
          200:
            description: This is a synchronous operation. The response contains a JSON-serialized
              description of the job in the IoT hub.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/JobResponse'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_GetJob:
            parameters:
              api-version: 2019-11-04
              jobId: test
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  endTimeUtc: Thu, 15 Jun 2017 19:20:58 GMT
                  jobId: test
                  startTimeUtc: Thu, 15 Jun 2017 19:20:58 GMT
                  status: unknown
                  type: unknown
  /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/listkeys:
    post:
      tags:
        - POST
      summary: 'Get the security metadata for an IoT hub. For more information, see:
        https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security'
      description: 'Get the security metadata for an IoT hub. For more information,
        see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security.'
      operationId: IotHubResource_ListKeys
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: The name of the resource group that contains the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
        - name: resourceName
          in: path
          description: The name of the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
      responses:
        200:
          description: This is a synchronous operation. The body contains a JSON-serialized
            array of shared access policies, including keys, that you can use to access
            the IoT hub endpoints.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SharedAccessSignatureAuthorizationRuleListResult'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_ListKeys:
          parameters:
            api-version: 2019-11-04
            resourceGroupName: myResourceGroup
            resourceName: testHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                value:
                  - keyName: iothubowner
                    primaryKey: 2aWPrKloLLdcug12ZHNpA0e07yJmRRmYMXDLpEOTd/Y=
                    rights: RegistryWrite, ServiceConnect, DeviceConnect
                    secondaryKey: DLyFnDTGMDK0BU2QjT5TCkNBQ4h08mi20vOqWMC7TxU=
                  - keyName: service
                    primaryKey: DinqxWW+s814W2Pc3dLxleelksqSYGy8Jfymt8J7a4c=
                    rights: ServiceConnect
                    secondaryKey: 5G8KgJ9Wx2T0f6HRIn25TgYcFmJnBSivawNaHssiP9Y=
                  - keyName: device
                    primaryKey: o/9gPc0oD8LY/r2lRurgl9U/sKFcL2c/tmFLKAiz+e0=
                    rights: DeviceConnect
                    secondaryKey: YOeBMHnYP95vH+ykR8OeapnhS6W8raMsXOdNFwqg4lg=
                  - keyName: registryRead
                    primaryKey: h2d4mPxy6jPCWX6mO+katV9QPNJivzt4aFq0iGVc1A8=
                    rights: RegistryRead
                    secondaryKey: 3TdcalZNTB7BZHl88LGsG1Z5T6+ElEODunrs1vylwGg=
                  - keyName: registryReadWrite
                    primaryKey: tyNRcaI38fXL+gQTjCmrVZGTP4YFF7uACk7pppWLWzY=
                    rights: RegistryWrite
                    secondaryKey: 6P6DXOp0W3HO5/IotzcPS1kx7PHiOdesaND07Im5cYI=
      x-ms-pageable:
        nextLinkName: nextLink
  ? /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/quotaMetrics
  : get:
        tags:
          - GET
        summary: Get the quota metrics for an IoT hub
        description: Get the quota metrics for an IoT hub.
        operationId: IotHubResource_GetQuotaMetrics
        parameters:
          - name: api-version
            in: query
            description: The version of the API.
            required: true
            schema:
              type: string
          - name: subscriptionId
            in: path
            description: The subscription identifier.
            required: true
            schema:
              type: string
          - name: resourceGroupName
            in: path
            description: The name of the resource group that contains the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
          - name: resourceName
            in: path
            description: The name of the IoT hub.
            required: true
            schema:
              type: string
              x-ms-parameter-location: method
            x-ms-parameter-location: method
        responses:
          200:
            description: This is a synchronous operation. The response contains a JSON-serialized
              array of the quota metrics for the IoT hub.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/IotHubQuotaMetricInfoListResult'
          default:
            description: DefaultErrorResponse
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorDetails'
        deprecated: false
        x-ms-examples:
          IotHubResource_GetQuotaMetrics:
            parameters:
              api-version: 2019-11-04
              resourceGroupName: myResourceGroup
              resourceName: testHub
              subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
            responses:
              200:
                body:
                  value:
                    - currentValue: 0
                      maxValue: 400000
                      name: TotalMessages
                    - currentValue: 0
                      maxValue: 500000
                      name: TotalDeviceCount
        x-ms-pageable:
          nextLinkName: nextLink
  /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/skus:
    get:
      tags:
        - GET
      summary: Get the list of valid SKUs for an IoT hub
      description: Get the list of valid SKUs for an IoT hub.
      operationId: IotHubResource_GetValidSkus
      parameters:
        - name: api-version
          in: query
          description: The version of the API.
          required: true
          schema:
            type: string
        - name: subscriptionId
          in: path
          description: The subscription identifier.
          required: true
          schema:
            type: string
        - name: resourceGroupName
          in: path
          description: The name of the resource group that contains the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
        - name: resourceName
          in: path
          description: The name of the IoT hub.
          required: true
          schema:
            type: string
            x-ms-parameter-location: method
          x-ms-parameter-location: method
      responses:
        200:
          description: This is a synchronous operation. The body contains a JSON-serialized
            array of the valid SKUs for this IoT hub.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IotHubSkuDescriptionListResult'
        default:
          description: DefaultErrorResponse
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetails'
      deprecated: false
      x-ms-examples:
        IotHubResource_GetValidSkus:
          parameters:
            api-version: 2019-11-04
            resourceGroupName: myResourceGroup
            resourceName: testHub
            subscriptionId: 91d12660-3dec-467a-be2a-213b5544ddc0
          responses:
            200:
              body:
                value:
                  - capacity:
                      default: 1
                      scaleType: Manual
                    resourceType: Microsoft.Devices/IotHubs
                    sku:
                      name: S1
                      tier: Standard
                  - capacity:
                      default: 1
                      maximum: 200
                      minimum: 1
                      scaleType: Manual
                    resourceType: Microsoft.Devices/IotHubs
                    sku:
                      name: S2
                      tier: Standard
                  - capacity:
                      default: 1
                      maximum: 10
                      minimum: 1
                      scaleType: Manual
                    resourceType: Microsoft.Devices/IotHubs
                    sku:
                      name: S3
                      tier: Standard
      x-ms-pageable:
        nextLinkName: nextLink
components:
  schemas:
    CertificateBodyDescription:
      type: object
      properties:
        certificate:
          type: string
          description: base-64 representation of the X509 leaf certificate .cer file
            or just .pem file content.
      description: The JSON-serialized X509 Certificate.
    CertificateDescription:
      type: object
      properties:
        etag:
          type: string
          description: The entity tag.
          readOnly: true
        id:
          type: string
          description: The resource identifier.
          readOnly: true
        name:
          type: string
          description: The name of the certificate.
          readOnly: true
        properties:
          $ref: '#/components/schemas/CertificateProperties'
        type:
          type: string
          description: The resource type.
          readOnly: true
      description: The X509 Certificate.
      x-ms-azure-resource: true
    CertificateListDescription:
      type: object
      properties:
        value:
          type: array
          description: The array of Certificate objects.
          items:
            $ref: '#/components/schemas/CertificateDescription'
      description: The JSON-serialized array of Certificate objects.
    CertificateProperties:
      type: object
      properties:
        certificate:
          type: string
          description: The certificate content
        created:
          type: string
          description: The certificate's create date and time.
          format: date-time-rfc1123
          readOnly: true
        expiry:
          type: string
          description: The certificate's expiration date and time.
          format: date-time-rfc1123
          readOnly: true
        isVerified:
          type: boolean
          description: Determines whether certificate has been verified.
          readOnly: true
        subject:
          type: string
          description: The certificate's subject name.
          readOnly: true
        thumbprint:
          type: string
          description: The certificate's thumbprint.
          readOnly: true
        updated:
          type: string
          description: The certificate's last update date and time.
          format: date-time-rfc1123
          readOnly: true
      description: The description of an X509 CA Certificate.
    CertificatePropertiesWithNonce:
      type: object
      properties:
        certificate:
          type: string
          description: The certificate content
          readOnly: true
        created:
          type: string
          description: The certificate's create date and time.
          format: date-time-rfc1123
          readOnly: true
        expiry:
          type: string
          description: The certificate's expiration date and time.
          format: date-time-rfc1123
          readOnly: true
        isVerified:
          type: boolean
          description: Determines whether certificate has been verified.
          readOnly: true
        subject:
          type: string
          description: The certificate's subject name.
          readOnly: true
        thumbprint:
          type: string
          description: The certificate's thumbprint.
          readOnly: true
        updated:
          type: string
          description: The certificate's last update date and time.
          format: date-time-rfc1123
          readOnly: true
        verificationCode:
          type: string
          description: The certificate's verification code that will be used for proof
            of possession.
          readOnly: true
      description: The description of an X509 CA Certificate including the challenge
        nonce issued for the Proof-Of-Possession flow.
    CertificateVerificationDescription:
      type: object
      properties:
        certificate:
          type: string
          description: base-64 representation of X509 certificate .cer file or just
            .pem file content.
      description: The JSON-serialized leaf certificate
    CertificateWithNonceDescription:
      type: object
      properties:
        etag:
          type: string
          description: The entity tag.
          readOnly: true
        id:
          type: string
          description: The resource identifier.
          readOnly: true
        name:
          type: string
          description: The name of the certificate.
          readOnly: true
        properties:
          $ref: '#/components/schemas/CertificatePropertiesWithNonce'
        type:
          type: string
          description: The resource type.
          readOnly: true
      description: The X509 Certificate.
      x-ms-azure-resource: true
    CloudToDeviceProperties:
      type: object
      properties:
        defaultTtlAsIso8601:
          type: string
          description: 'The default time to live for cloud-to-device messages in the
            device queue. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messaging#cloud-to-device-messages.'
          format: duration
        feedback:
          $ref: '#/components/schemas/FeedbackProperties'
        maxDeliveryCount:
          maximum: 1E+2
          minimum: 1
          type: integer
          description: 'The max delivery count for cloud-to-device messages in the
            device queue. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messaging#cloud-to-device-messages.'
          format: int32
      description: The IoT hub cloud-to-device messaging properties.
    EndpointHealthData:
      type: object
      properties:
        endpointId:
          type: string
          description: Id of the endpoint
        healthStatus:
          type: string
          description: Health statuses have following meanings. The 'healthy' status
            shows that the endpoint is accepting messages as expected. The 'unhealthy'
            status shows that the endpoint is not accepting messages as expected and
            IoT Hub is retrying to send data to this endpoint. The status of an unhealthy
            endpoint will be updated to healthy when IoT Hub has established an eventually
            consistent state of health. The 'dead' status shows that the endpoint
            is not accepting messages, after IoT Hub retried sending messages for
            the retrial period. See IoT Hub metrics to identify errors and monitor
            issues with endpoints. The 'unknown' status shows that the IoT Hub has
            not established a connection with the endpoint. No messages have been
            delivered to or rejected from this endpoint
          enum:
            - unknown
            - healthy
            - unhealthy
            - dead
          x-ms-enum:
            modelAsString: true
            name: EndpointHealthStatus
      description: The health data for an endpoint
    EndpointHealthDataListResult:
      type: object
      properties:
        nextLink:
          type: string
          description: Link to more results
          readOnly: true
        value:
          type: array
          description: JSON-serialized array of Endpoint health data
          items:
            $ref: '#/components/schemas/EndpointHealthData'
      description: The JSON-serialized array of EndpointHealthData objects with a
        next link.
    EnrichmentProperties:
      required:
        - endpointNames
        - key
        - value
      type: object
      properties:
        endpointNames:
          minItems: 1
          type: array
          description: The list of endpoints for which the enrichment is applied to
            the message.
          items:
            type: string
        key:
          type: string
          description: The key or name for the enrichment property.
        value:
          type: string
          description: The value for the enrichment property.
      description: The properties of an enrichment that your IoT hub applies to messages
        delivered to endpoints.
    ErrorDetails:
      type: object
      properties:
        code:
          type: string
          description: The error code.
          readOnly: true
        details:
          type: string
          description: The error details.
          readOnly: true
        httpStatusCode:
          type: string
          description: The HTTP status code.
          readOnly: true
        message:
          type: string
          description: The error message.
          readOnly: true
      description: Error details.
    EventHubConsumerGroupInfo:
      type: object
      properties:
        etag:
          type: string
          description: The etag.
          readOnly: true
        id:
          type: string
          description: The Event Hub-compatible consumer group identifier.
          readOnly: true
        name:
          type: string
          description: The Event Hub-compatible consumer group name.
          readOnly: true
        properties:
          type: object
          additionalProperties:
            type: string
          description: The tags.
        type:
          type: string
          description: the resource type.
          readOnly: true
      description: The properties of the EventHubConsumerGroupInfo object.
      x-ms-azure-resource: true
    EventHubConsumerGroupsListResult:
      type: object
      properties:
        nextLink:
          type: string
          description: The next link.
          readOnly: true
        value:
          type: array
          description: List of consumer groups objects
          items:
            $ref: '#/components/schemas/EventHubConsumerGroupInfo'
      description: The JSON-serialized array of Event Hub-compatible consumer group
        names with a next link.
    EventHubProperties:
      type: object
      properties:
        endpoint:
          type: string
          description: The Event Hub-compatible endpoint.
          readOnly: true
        partitionCount:
          type: integer
          description: 'The number of partitions for receiving device-to-cloud messages
            in the Event Hub-compatible endpoint. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messaging#device-to-cloud-messages.'
          format: int32
        partitionIds:
          type: array
          description: The partition ids in the Event Hub-compatible endpoint.
          readOnly: true
          items:
            type: string
        path:
          type: string
          description: The Event Hub-compatible name.
          readOnly: true
        retentionTimeInDays:
          type: integer
          description: 'The retention time for device-to-cloud messages in days. See:
            https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messaging#device-to-cloud-messages'
          format: int64
      description: The properties of the provisioned Event Hub-compatible endpoint
        used by the IoT hub.
    ExportDevicesRequest:
      required:
        - excludeKeys
        - exportBlobContainerUri
      type: object
      properties:
        excludeKeys:
          type: boolean
          description: The value indicating whether keys should be excluded during
            export.
        exportBlobContainerUri:
          type: string
          description: The export blob container URI.
      description: Use to provide parameters when requesting an export of all devices
        in the IoT hub.
    FailoverInput:
      required:
        - failoverRegion
      type: object
      properties:
        failoverRegion:
          type: string
          description: Region the hub will be failed over to
      description: Use to provide failover region when requesting manual Failover
        for a hub.
    FallbackRouteProperties:
      required:
        - endpointNames
        - isEnabled
        - source
      type: object
      properties:
        condition:
          type: string
          description: 'The condition which is evaluated in order to apply the fallback
            route. If the condition is not provided it will evaluate to true by default.
            For grammar, See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-query-language'
        endpointNames:
          maxItems: 1
          minItems: 1
          type: array
          description: The list of endpoints to which the messages that satisfy the
            condition are routed to. Currently only 1 endpoint is allowed.
          items:
            type: string
        isEnabled:
          type: boolean
          description: Used to specify whether the fallback route is enabled.
        name:
          type: string
          description: The name of the route. The name can only include alphanumeric
            characters, periods, underscores, hyphens, has a maximum length of 64
            characters, and must be unique.
        source:
          type: string
          description: The source to which the routing rule is to be applied to. For
            example, DeviceMessages
          enum:
            - DeviceMessages
          x-ms-enum:
            modelAsString: true
            name: RoutingSource
      description: The properties of the fallback route. IoT Hub uses these properties
        when it routes messages to the fallback endpoint.
    FeedbackProperties:
      type: object
      properties:
        lockDurationAsIso8601:
          type: string
          description: 'The lock duration for the feedback queue. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messaging#cloud-to-device-messages.'
          format: duration
        maxDeliveryCount:
          maximum: 1E+2
          minimum: 1
          type: integer
          description: 'The number of times the IoT hub attempts to deliver a message
            on the feedback queue. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messaging#cloud-to-device-messages.'
          format: int32
        ttlAsIso8601:
          type: string
          description: 'The period of time for which a message is available to consume
            before it is expired by the IoT hub. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messaging#cloud-to-device-messages.'
          format: duration
      description: The properties of the feedback queue for cloud-to-device messages.
    ImportDevicesRequest:
      required:
        - inputBlobContainerUri
        - outputBlobContainerUri
      type: object
      properties:
        inputBlobContainerUri:
          type: string
          description: The input blob container URI.
        outputBlobContainerUri:
          type: string
          description: The output blob container URI.
      description: Use to provide parameters when requesting an import of all devices
        in the hub.
    IotHubCapacity:
      type: object
      properties:
        default:
          type: integer
          description: The default number of units.
          format: int64
          readOnly: true
        maximum:
          type: integer
          description: The maximum number of units.
          format: int64
          readOnly: true
        minimum:
          maximum: 1
          minimum: 1
          type: integer
          description: The minimum number of units.
          format: int64
          readOnly: true
        scaleType:
          type: string
          description: The type of the scaling enabled.
          readOnly: true
          enum:
            - Automatic
            - Manual
            - None
          x-ms-enum:
            modelAsString: false
            name: IotHubScaleType
      description: IoT Hub capacity information.
    IotHubDescription:
      description: The description of the IoT hub.
      allOf:
        - $ref: '#/components/schemas/Resource'
    IotHubDescriptionListResult:
      type: object
      properties:
        nextLink:
          type: string
          description: The next link.
          readOnly: true
        value:
          type: array
          description: The array of IotHubDescription objects.
          items:
            $ref: '#/components/schemas/IotHubDescription'
      description: The JSON-serialized array of IotHubDescription objects with a next
        link.
    IotHubLocationDescription:
      type: object
      properties:
        location:
          type: string
          description: The name of the Azure region
        role:
          type: string
          description: The role of the region, can be either primary or secondary.
            The primary region is where the IoT hub is currently provisioned. The
            secondary region is the Azure disaster recovery (DR) paired region and
            also the region where the IoT hub can failover to.
          enum:
            - primary
            - secondary
          x-ms-enum:
            modelAsString: true
            name: IotHubReplicaRoleType
      description: Public representation of one of the locations where a resource
        is provisioned.
    IotHubNameAvailabilityInfo:
      type: object
      properties:
        message:
          type: string
          description: The detailed reason message.
        nameAvailable:
          type: boolean
          description: The value which indicates whether the provided name is available.
          readOnly: true
        reason:
          type: string
          description: The reason for unavailability.
          readOnly: true
          enum:
            - Invalid
            - AlreadyExists
          x-ms-enum:
            modelAsString: false
            name: IotHubNameUnavailabilityReason
      description: The properties indicating whether a given IoT hub name is available.
    IotHubProperties:
      type: object
      properties:
        authorizationPolicies:
          type: array
          description: The shared access policies you can use to secure a connection
            to the IoT hub.
          items:
            $ref: '#/components/schemas/SharedAccessSignatureAuthorizationRule'
        cloudToDevice:
          $ref: '#/components/schemas/CloudToDeviceProperties'
        comments:
          type: string
          description: IoT hub comments.
        enableFileUploadNotifications:
          type: boolean
          description: If True, file upload notifications are enabled.
        eventHubEndpoints:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/EventHubProperties'
          description: The Event Hub-compatible endpoint properties. The only possible
            keys to this dictionary is events. This key has to be present in the dictionary
            while making create or update calls for the IoT hub.
        features:
          type: string
          description: The capabilities and features enabled for the IoT hub.
          enum:
            - None
            - DeviceManagement
          x-ms-enum:
            modelAsString: true
            name: Capabilities
        hostName:
          type: string
          description: The name of the host.
          readOnly: true
        ipFilterRules:
          type: array
          description: The IP filter rules.
          items:
            $ref: '#/components/schemas/IpFilterRule'
        locations:
          type: array
          description: Primary and secondary location for iot hub
          readOnly: true
          items:
            $ref: '#/components/schemas/IotHubLocationDescription'
        messagingEndpoints:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/MessagingEndpointProperties'
          description: The messaging endpoint properties for the file upload notification
            queue.
        provisioningState:
          type: string
          description: The provisioning state.
          readOnly: true
        routing:
          $ref: '#/components/schemas/RoutingProperties'
        state:
          type: string
          description: The hub state.
          readOnly: true
        storageEndpoints:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/StorageEndpointProperties'
          description: The list of Azure Storage endpoints where you can upload files.
            Currently you can configure only one Azure Storage account and that MUST
            have its key as $default. Specifying more than one storage account causes
            an error to be thrown. Not specifying a value for this property when the
            enableFileUploadNotifications property is set to True, causes an error
            to be thrown.
      description: The properties of an IoT hub.
    IotHubQuotaMetricInfo:
      type: object
      properties:
        currentValue:
          type: integer
          description: The current value for the quota metric.
          format: int64
          readOnly: true
        maxValue:
          type: integer
          description: The maximum value of the quota metric.
          format: int64
          readOnly: true
        name:
          type: string
          description: The name of the quota metric.
          readOnly: true
      description: Quota metrics properties.
    IotHubQuotaMetricInfoListResult:
      type: object
      properties:
        nextLink:
          type: string
          description: The next link.
          readOnly: true
        value:
          type: array
          description: The array of quota metrics objects.
          items:
            $ref: '#/components/schemas/IotHubQuotaMetricInfo'
      description: The JSON-serialized array of IotHubQuotaMetricInfo objects with
        a next link.
    IotHubSkuDescription:
      required:
        - capacity
        - sku
      type: object
      properties:
        capacity:
          $ref: '#/components/schemas/IotHubCapacity'
        resourceType:
          type: string
          description: The type of the resource.
          readOnly: true
        sku:
          $ref: '#/components/schemas/IotHubSkuInfo'
      description: SKU properties.
    IotHubSkuDescriptionListResult:
      type: object
      properties:
        nextLink:
          type: string
          description: The next link.
          readOnly: true
        value:
          type: array
          description: The array of IotHubSkuDescription.
          items:
            $ref: '#/components/schemas/IotHubSkuDescription'
      description: The JSON-serialized array of IotHubSkuDescription objects with
        a next link.
    IotHubSkuInfo:
      required:
        - name
      type: object
      properties:
        capacity:
          type: integer
          description: 'The number of provisioned IoT Hub units. See: https://docs.microsoft.com/azure/azure-subscription-service-limits#iot-hub-limits.'
          format: int64
        name:
          type: string
          description: The name of the SKU.
          enum:
            - F1
            - S1
            - S2
            - S3
            - B1
            - B2
            - B3
          x-ms-enum:
            modelAsString: true
            name: IotHubSku
        tier:
          type: string
          description: The billing tier for the IoT hub.
          readOnly: true
          enum:
            - Free
            - Standard
            - Basic
          x-ms-enum:
            modelAsString: false
            name: IotHubSkuTier
      description: Information about the SKU of the IoT hub.
    IpFilterRule:
      required:
        - action
        - filterName
        - ipMask
      type: object
      properties:
        action:
          type: string
          description: The desired action for requests captured by this rule.
          enum:
            - Accept
            - Reject
          x-ms-enum:
            modelAsString: false
            name: IpFilterActionType
        filterName:
          type: string
          description: The name of the IP filter rule.
        ipMask:
          type: string
          description: A string that contains the IP address range in CIDR notation
            for the rule.
      description: The IP filter rules for the IoT hub.
    JobResponse:
      type: object
      properties:
        endTimeUtc:
          type: string
          description: The time the job stopped processing.
          format: date-time-rfc1123
          readOnly: true
        failureReason:
          type: string
          description: If status == failed, this string containing the reason for
            the failure.
          readOnly: true
        jobId:
          type: string
          description: The job identifier.
          readOnly: true
        parentJobId:
          type: string
          description: The job identifier of the parent job, if any.
          readOnly: true
        startTimeUtc:
          type: string
          description: The start time of the job.
          format: date-time-rfc1123
          readOnly: true
        status:
          type: string
          description: The status of the job.
          readOnly: true
          enum:
            - unknown
            - enqueued
            - running
            - completed
            - failed
            - cancelled
          x-ms-enum:
            modelAsString: false
            name: JobStatus
        statusMessage:
          type: string
          description: The status message for the job.
          readOnly: true
        type:
          type: string
          description: The type of the job.
          readOnly: true
          enum:
            - unknown
            - export
            - import
            - backup
            - readDeviceProperties
            - writeDeviceProperties
            - updateDeviceConfiguration
            - rebootDevice
            - factoryResetDevice
            - firmwareUpdate
          x-ms-enum:
            modelAsString: true
            name: JobType
      description: The properties of the Job Response object.
    JobResponseListResult:
      type: object
      properties:
        nextLink:
          type: string
          description: The next link.
          readOnly: true
        value:
          type: array
          description: The array of JobResponse objects.
          items:
            $ref: '#/components/schemas/JobResponse'
      description: The JSON-serialized array of JobResponse objects with a next link.
    MatchedRoute:
      type: object
      properties:
        properties:
          $ref: '#/components/schemas/RouteProperties'
      description: Routes that matched
    MessagingEndpointProperties:
      type: object
      properties:
        lockDurationAsIso8601:
          type: string
          description: 'The lock duration. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-file-upload.'
          format: duration
        maxDeliveryCount:
          maximum: 1E+2
          minimum: 1
          type: integer
          description: 'The number of times the IoT hub attempts to deliver a message.
            See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-file-upload.'
          format: int32
        ttlAsIso8601:
          type: string
          description: 'The period of time for which a message is available to consume
            before it is expired by the IoT hub. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-file-upload.'
          format: duration
      description: The properties of the messaging endpoints used by this IoT hub.
    Name:
      type: object
      properties:
        localizedValue:
          type: string
          description: Localized value of name
        value:
          type: string
          description: IotHub type
      description: Name of Iot Hub type
    Operation:
      type: object
      properties:
        display:
          type: object
          properties:
            description:
              type: string
              description: Description of the operation
              readOnly: true
            operation:
              type: string
              description: Name of the operation
              readOnly: true
            provider:
              type: string
              description: 'Service provider: Microsoft Devices'
              readOnly: true
            resource:
              type: string
              description: 'Resource Type: IotHubs'
              readOnly: true
          description: The object that represents the operation.
        name:
          type: string
          description: 'Operation name: {provider}/{resource}/{read | write | action
            | delete}'
          readOnly: true
      description: IoT Hub REST API operation
    OperationInputs:
      required:
        - name
      type: object
      properties:
        name:
          type: string
          description: The name of the IoT hub to check.
      description: Input values.
    OperationListResult:
      type: object
      properties:
        nextLink:
          type: string
          description: URL to get the next set of operation list results if there
            are any.
          readOnly: true
        value:
          type: array
          description: List of IoT Hub operations supported by the Microsoft.Devices
            resource provider.
          readOnly: true
          items:
            $ref: '#/components/schemas/Operation'
      description: Result of the request to list IoT Hub operations. It contains a
        list of operations and a URL link to get the next set of results.
    RegistryStatistics:
      type: object
      properties:
        disabledDeviceCount:
          type: integer
          description: The count of disabled devices in the identity registry.
          format: int64
          readOnly: true
        enabledDeviceCount:
          type: integer
          description: The count of enabled devices in the identity registry.
          format: int64
          readOnly: true
        totalDeviceCount:
          type: integer
          description: The total count of devices in the identity registry.
          format: int64
          readOnly: true
      description: Identity registry statistics.
    Resource:
      required:
        - location
      type: object
      properties:
        id:
          type: string
          description: The resource identifier.
          readOnly: true
        location:
          type: string
          description: The resource location.
        name:
          pattern: ^(?![0-9]+$)(?!-)[a-zA-Z0-9-]{2,49}[a-zA-Z0-9]$
          type: string
          description: The resource name.
          readOnly: true
        tags:
          type: object
          additionalProperties:
            type: string
          description: The resource tags.
        type:
          type: string
          description: The resource type.
          readOnly: true
      description: The common properties of an Azure resource.
      x-ms-azure-resource: true
    RouteCompilationError:
      type: object
      properties:
        location:
          $ref: '#/components/schemas/RouteErrorRange'
        message:
          type: string
          description: Route error message
        severity:
          type: string
          description: Severity of the route error
          enum:
            - error
            - warning
          x-ms-enum:
            modelAsString: true
            name: RouteErrorSeverity
      description: Compilation error when evaluating route
    RouteErrorPosition:
      type: object
      properties:
        column:
          type: integer
          description: Column where the route error happened
          format: int32
        line:
          type: integer
          description: Line where the route error happened
          format: int32
      description: Position where the route error happened
    RouteErrorRange:
      type: object
      properties:
        end:
          $ref: '#/components/schemas/RouteErrorPosition'
        start:
          $ref: '#/components/schemas/RouteErrorPosition'
      description: Range of route errors
    RouteProperties:
      required:
        - endpointNames
        - isEnabled
        - name
        - source
      type: object
      properties:
        condition:
          type: string
          description: 'The condition that is evaluated to apply the routing rule.
            If no condition is provided, it evaluates to true by default. For grammar,
            see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-query-language'
        endpointNames:
          maxItems: 1
          minItems: 1
          type: array
          description: The list of endpoints to which messages that satisfy the condition
            are routed. Currently only one endpoint is allowed.
          items:
            type: string
        isEnabled:
          type: boolean
          description: Used to specify whether a route is enabled.
        name:
          pattern: ^[A-Za-z0-9-._]{1,64}$
          type: string
          description: The name of the route. The name can only include alphanumeric
            characters, periods, underscores, hyphens, has a maximum length of 64
            characters, and must be unique.
        source:
          type: string
          description: The source that the routing rule is to be applied to, such
            as DeviceMessages.
          enum:
            - Invalid
            - DeviceMessages
            - TwinChangeEvents
            - DeviceLifecycleEvents
            - DeviceJobLifecycleEvents
          x-ms-enum:
            modelAsString: true
            name: RoutingSource
      description: The properties of a routing rule that your IoT hub uses to route
        messages to endpoints.
    RoutingEndpoints:
      type: object
      properties:
        eventHubs:
          type: array
          description: The list of Event Hubs endpoints that IoT hub routes messages
            to, based on the routing rules. This list does not include the built-in
            Event Hubs endpoint.
          items:
            $ref: '#/components/schemas/RoutingEventHubProperties'
        serviceBusQueues:
          type: array
          description: The list of Service Bus queue endpoints that IoT hub routes
            the messages to, based on the routing rules.
          items:
            $ref: '#/components/schemas/RoutingServiceBusQueueEndpointProperties'
        serviceBusTopics:
          type: array
          description: The list of Service Bus topic endpoints that the IoT hub routes
            the messages to, based on the routing rules.
          items:
            $ref: '#/components/schemas/RoutingServiceBusTopicEndpointProperties'
        storageContainers:
          type: array
          description: The list of storage container endpoints that IoT hub routes
            messages to, based on the routing rules.
          items:
            $ref: '#/components/schemas/RoutingStorageContainerProperties'
      description: The properties related to the custom endpoints to which your IoT
        hub routes messages based on the routing rules. A maximum of 10 custom endpoints
        are allowed across all endpoint types for paid hubs and only 1 custom endpoint
        is allowed across all endpoint types for free hubs.
    RoutingEventHubProperties:
      required:
        - connectionString
        - name
      type: object
      properties:
        connectionString:
          type: string
          description: 'The connection string of the event hub endpoint. '
        name:
          pattern: ^[A-Za-z0-9-._]{1,64}$
          type: string
          description: 'The name that identifies this endpoint. The name can only
            include alphanumeric characters, periods, underscores, hyphens and has
            a maximum length of 64 characters. The following names are reserved:  events,
            fileNotifications, $default. Endpoint names must be unique across endpoint
            types.'
        resourceGroup:
          type: string
          description: The name of the resource group of the event hub endpoint.
        subscriptionId:
          type: string
          description: The subscription identifier of the event hub endpoint.
      description: The properties related to an event hub endpoint.
    RoutingMessage:
      type: object
      properties:
        appProperties:
          type: object
          additionalProperties:
            type: string
          description: App properties
        body:
          type: string
          description: Body of routing message
        systemProperties:
          type: object
          additionalProperties:
            type: string
          description: System properties
      description: Routing message
    RoutingProperties:
      type: object
      properties:
        endpoints:
          $ref: '#/components/schemas/RoutingEndpoints'
        enrichments:
          type: array
          description: 'The list of user-provided enrichments that the IoT hub applies
            to messages to be delivered to built-in and custom endpoints. See: https://aka.ms/telemetryoneventgrid'
          items:
            $ref: '#/components/schemas/EnrichmentProperties'
        fallbackRoute:
          $ref: '#/components/schemas/FallbackRouteProperties'
        routes:
          type: array
          description: The list of user-provided routing rules that the IoT hub uses
            to route messages to built-in and custom endpoints. A maximum of 100 routing
            rules are allowed for paid hubs and a maximum of 5 routing rules are allowed
            for free hubs.
          items:
            $ref: '#/components/schemas/RouteProperties'
      description: 'The routing related properties of the IoT hub. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messaging'
    RoutingServiceBusQueueEndpointProperties:
      required:
        - connectionString
        - name
      type: object
      properties:
        connectionString:
          type: string
          description: The connection string of the service bus queue endpoint.
        name:
          pattern: ^[A-Za-z0-9-._]{1,64}$
          type: string
          description: 'The name that identifies this endpoint. The name can only
            include alphanumeric characters, periods, underscores, hyphens and has
            a maximum length of 64 characters. The following names are reserved:  events,
            fileNotifications, $default. Endpoint names must be unique across endpoint
            types. The name need not be the same as the actual queue name.'
        resourceGroup:
          type: string
          description: The name of the resource group of the service bus queue endpoint.
        subscriptionId:
          type: string
          description: The subscription identifier of the service bus queue endpoint.
      description: The properties related to service bus queue endpoint types.
    RoutingServiceBusTopicEndpointProperties:
      required:
        - connectionString
        - name
      type: object
      properties:
        connectionString:
          type: string
          description: The connection string of the service bus topic endpoint.
        name:
          pattern: ^[A-Za-z0-9-._]{1,64}$
          type: string
          description: 'The name that identifies this endpoint. The name can only
            include alphanumeric characters, periods, underscores, hyphens and has
            a maximum length of 64 characters. The following names are reserved:  events,
            fileNotifications, $default. Endpoint names must be unique across endpoint
            types.  The name need not be the same as the actual topic name.'
        resourceGroup:
          type: string
          description: The name of the resource group of the service bus topic endpoint.
        subscriptionId:
          type: string
          description: The subscription identifier of the service bus topic endpoint.
      description: The properties related to service bus topic endpoint types.
    RoutingStorageContainerProperties:
      required:
        - connectionString
        - containerName
        - name
      type: object
      properties:
        batchFrequencyInSeconds:
          maximum: 7.2E+2
          minimum: 6E+1
          type: integer
          description: Time interval at which blobs are written to storage. Value
            should be between 60 and 720 seconds. Default value is 300 seconds.
          format: int32
        connectionString:
          type: string
          description: The connection string of the storage account.
        containerName:
          type: string
          description: The name of storage container in the storage account.
        encoding:
          type: string
          description: Encoding that is used to serialize messages to blobs. Supported
            values are 'avro', 'avrodeflate', and 'JSON'. Default value is 'avro'.
          enum:
            - Avro
            - AvroDeflate
            - JSON
        fileNameFormat:
          type: string
          description: File name format for the blob. Default format is {iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.
            All parameters are mandatory but can be reordered.
        maxChunkSizeInBytes:
          maximum: 5.24288E+8
          minimum: 1.048576E+7
          type: integer
          description: Maximum number of bytes for each blob written to storage. Value
            should be between 10485760(10MB) and 524288000(500MB). Default value is
            314572800(300MB).
          format: int32
        name:
          pattern: ^[A-Za-z0-9-._]{1,64}$
          type: string
          description: 'The name that identifies this endpoint. The name can only
            include alphanumeric characters, periods, underscores, hyphens and has
            a maximum length of 64 characters. The following names are reserved:  events,
            fileNotifications, $default. Endpoint names must be unique across endpoint
            types.'
        resourceGroup:
          type: string
          description: The name of the resource group of the storage account.
        subscriptionId:
          type: string
          description: The subscription identifier of the storage account.
      description: The properties related to a storage container endpoint.
    RoutingTwin:
      type: object
      properties:
        properties:
          type: object
          properties:
            desired:
              type: object
              properties: {}
              description: Twin desired properties
            reported:
              type: object
              properties: {}
              description: Twin desired properties
        tags:
          type: object
          properties: {}
          description: Twin Tags
      description: Twin reference input parameter. This is an optional parameter
    SharedAccessSignatureAuthorizationRule:
      required:
        - keyName
        - rights
      type: object
      properties:
        keyName:
          type: string
          description: The name of the shared access policy.
        primaryKey:
          type: string
          description: The primary key.
        rights:
          type: string
          description: The permissions assigned to the shared access policy.
          enum:
            - RegistryRead
            - RegistryWrite
            - ServiceConnect
            - DeviceConnect
            - RegistryRead, RegistryWrite
            - RegistryRead, ServiceConnect
            - RegistryRead, DeviceConnect
            - RegistryWrite, ServiceConnect
            - RegistryWrite, DeviceConnect
            - ServiceConnect, DeviceConnect
            - RegistryRead, RegistryWrite, ServiceConnect
            - RegistryRead, RegistryWrite, DeviceConnect
            - RegistryRead, ServiceConnect, DeviceConnect
            - RegistryWrite, ServiceConnect, DeviceConnect
            - RegistryRead, RegistryWrite, ServiceConnect, DeviceConnect
          x-ms-enum:
            modelAsString: false
            name: AccessRights
        secondaryKey:
          type: string
          description: The secondary key.
      description: The properties of an IoT hub shared access policy.
    SharedAccessSignatureAuthorizationRuleListResult:
      type: object
      properties:
        nextLink:
          type: string
          description: The next link.
          readOnly: true
        value:
          type: array
          description: The list of shared access policies.
          items:
            $ref: '#/components/schemas/SharedAccessSignatureAuthorizationRule'
      description: The list of shared access policies with a next link.
    StorageEndpointProperties:
      required:
        - connectionString
        - containerName
      type: object
      properties:
        connectionString:
          type: string
          description: The connection string for the Azure Storage account to which
            files are uploaded.
        containerName:
          type: string
          description: The name of the root container where you upload files. The
            container need not exist but should be creatable using the connectionString
            specified.
        sasTtlAsIso8601:
          type: string
          description: 'The period of time for which the SAS URI generated by IoT
            Hub for file upload is valid. See: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-file-upload#file-upload-notification-configuration-options.'
          format: duration
      description: The properties of the Azure Storage endpoint for file upload.
    TagsResource:
      type: object
      properties:
        tags:
          type: object
          description: Resource tags
      description: A container holding only the Tags for a resource, allowing the
        user to update the tags on an IoT Hub instance.
    TestAllRoutesInput:
      type: object
      properties:
        message:
          $ref: '#/components/schemas/RoutingMessage'
        routingSource:
          type: string
          description: Routing source
          enum:
            - Invalid
            - DeviceMessages
            - TwinChangeEvents
            - DeviceLifecycleEvents
            - DeviceJobLifecycleEvents
          x-ms-enum:
            modelAsString: true
            name: RoutingSource
        twin:
          $ref: '#/components/schemas/RoutingTwin'
      description: Input for testing all routes
    TestAllRoutesResult:
      type: object
      properties:
        routes:
          type: array
          description: JSON-serialized array of matched routes
          items:
            $ref: '#/components/schemas/MatchedRoute'
      description: Result of testing all routes
    TestRouteInput:
      required:
        - route
      type: object
      properties:
        message:
          $ref: '#/components/schemas/RoutingMessage'
        route:
          $ref: '#/components/schemas/RouteProperties'
        twin:
          $ref: '#/components/schemas/RoutingTwin'
      description: Input for testing route
    TestRouteResult:
      type: object
      properties:
        details:
          $ref: '#/components/schemas/TestRouteResultDetails'
        result:
          type: string
          description: Result of testing route
          enum:
            - undefined
            - "false"
            - "true"
          x-ms-enum:
            modelAsString: true
            name: TestResultStatus
      description: Result of testing one route
    TestRouteResultDetails:
      type: object
      properties:
        compilationErrors:
          type: array
          description: JSON-serialized list of route compilation errors
          items:
            $ref: '#/components/schemas/RouteCompilationError'
      description: Detailed result of testing a route
    UserSubscriptionQuota:
      type: object
      properties:
        currentValue:
          type: integer
          description: Current number of IotHub type
          format: int32
        id:
          type: string
          description: IotHub type id
        limit:
          type: integer
          description: Numerical limit on IotHub type
          format: int32
        name:
          $ref: '#/components/schemas/Name'
        type:
          type: string
          description: Response type
        unit:
          type: string
          description: Unit of IotHub type
      description: User subscription quota response
    UserSubscriptionQuotaListResult:
      type: object
      properties:
        nextLink:
          type: string
          readOnly: true
        value:
          type: array
          items:
            $ref: '#/components/schemas/UserSubscriptionQuota'
      description: Json-serialized array of User subscription quota response
  parameters:
    api-version:
      name: api-version
      in: query
      description: The version of the API.
      required: true
      schema:
        type: string
    certificateName:
      name: certificateName
      in: path
      description: The name of the certificate
      required: true
      schema:
        pattern: ^[A-Za-z0-9-._]{1,64}$
        type: string
        x-ms-parameter-location: method
      x-ms-parameter-location: method
    resourceGroupName:
      name: resourceGroupName
      in: path
      description: The name of the resource group that contains the IoT hub.
      required: true
      schema:
        type: string
        x-ms-parameter-location: method
      x-ms-parameter-location: method
    resourceName:
      name: resourceName
      in: path
      description: The name of the IoT hub.
      required: true
      schema:
        type: string
        x-ms-parameter-location: method
      x-ms-parameter-location: method
    subscriptionId:
      name: subscriptionId
      in: path
      description: The subscription identifier.
      required: true
      schema:
        type: string
  securitySchemes:
    azure_auth:
      type: oauth2
      description: Azure Active Directory OAuth2 Flow
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
